<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit">
    <title>Jumpserver</title>
    <link rel="shortcut icon" href="/static/img/facio.ico" type="image/x-icon">
    

<!-- css file -->
<link href="/static/css/bootstrap.min.css" rel="stylesheet">
<link href="/static/css/font-awesome.min.css" rel="stylesheet">
<link href="/static/css/plugins/toastr/toastr.min.css" rel="stylesheet">
<link href="/static/css/plugins/sweetalert/sweetalert.css" rel="stylesheet">
<link href="/static/css/style.css" rel="stylesheet">
<link href="/static/css/plugins/vaildator/jquery.validator.css" rel="stylesheet">
<link href="/static/css/plugins/datatables/datatables.min.css" rel="stylesheet">
<!-- scripts -->
<script src="/static/js/jquery-2.1.1.js"></script>
<script src="/static/js/plugins/sweetalert/sweetalert.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/plugins/datatables/datatables.min.js"></script>
    <link href="/static/css/jumpserver.css" rel="stylesheet">
     
</head>

<body>

<!--整体页面的div -->
<div id="wrapper">
    <!--左边部分-->
    <nav class="navbar-default navbar-static-side" role="navigation">
    <div class="sidebar-collapse">
        <ul class="nav" id="side-menu">
            

<li class="nav-header">
    <div class="dropdown profile-element">
        <div href="http://www.jumpserver.org" target="_blank">
            <img alt="logo" height="55" width="185" src="/static/img/logo-text.png" style="margin-left: 20px"/>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="logo-element">
        <img alt="image" height="40" src="/static/img/logo.png"/>
    </div>
</li>
<script>
$(document).ready(function () {
})
.on('click', '#switch_admin', function () {
    var cookieName = "IN_ADMIN_PAGE";
    setTimeout(function () {
        delCookie(cookieName);
        setCookie(cookieName, "Yes");
        window.location = "/"
    }, 100)
})
.on('click', '#switch_user', function () {
    var cookieName = "IN_ADMIN_PAGE";
    setTimeout(function () {
        delCookie(cookieName);
        setCookie(cookieName, "No");
        window.location = "/assets/user-asset/"
    }, 100);
})
</script>

            
                
<li id="index">
    <a href="/">
        <i class="fa fa-dashboard" style="width: 14px"></i> <span class="nav-label">仪表盘</span><span
            class="label label-info pull-right"></span>
    </a>
</li>
<li id="users">
    <a href="#">
        <i class="fa fa-group" style="width: 14px"></i> <span class="nav-label">用户管理</span><span class="fa arrow"></span>
    </a>
    <ul class="nav nav-second-level active">
        <li id="user"><a href="/users/user">用户列表</a></li>
        <li id="user-group"><a href="/users/user-group">用户组</a></li>
        <li id="login-log"><a href="/users/login-log/">登录日志</a></li>
    </ul>
</li>
<li id="assets">
    <a>
        <i class="fa fa-inbox" style="width: 14px"></i> <span class="nav-label">资产管理</span><span class="fa arrow"></span>
    </a>
    <ul class="nav nav-second-level">
        <li id="asset"><a href="/assets/asset/">资产列表</a></li>
        <li id="admin-user"><a href="/assets/admin-user/">管理用户</a></li>
        <li id="system-user"><a href="/assets/system-user/">系统用户</a></li>
        <li id="label"><a href="/assets/label/">标签管理</a></li>
    </ul>
</li>
<li id="perms">
    <a href="#"><i class="fa fa-edit" style="width: 14px"></i> <span class="nav-label">权限管理</span><span class="fa arrow"></span></a>
    <ul class="nav nav-second-level">
        <li id="asset-permission">
            <a href="/perms/asset-permission">资产授权</a>
        </li>
    </ul>
</li>
<li id="terminal">
    <a>
        <i class="fa fa-rocket" style="width: 14px"></i> <span class="nav-label">会话管理</span><span class="fa arrow"></span>
    </a>
    <ul class="nav nav-second-level">
        <li id="session-online"><a href="/terminal/session-online/">在线会话</a></li>
        <li id="session-offline"><a href="/terminal/session-offline/">历史会话</a></li>
        <li id="command"><a href="/terminal/command/">命令记录</a></li>
        <li>
            <a href="/terminal/web-terminal/" target="_blank">
            <span class="nav-label">Web终端</span>
            </a>
        </li>
        <li id="terminal"><a href="/terminal/terminal/">终端管理</a></li>
    </ul>
</li>
<li id="ops">
    <a>
        <i class="fa fa-coffee" style="width: 14px"></i> <span class="nav-label">作业中心</span><span class="fa arrow"></span>
    </a>
    <ul class="nav nav-second-level">
        <li id="task"><a href="/ops/task/">任务列表</a></li>
    </ul>
</li>









<li id="settings">
    <a href="/settings/">
        <i class="fa fa-gears"></i> <span class="nav-label">系统设置</span><span class="label label-info pull-right"></span>
    </a>
</li>
            
        </ul>
    </div>
</nav><!--左边部分结束-->

    <!--右边整体的div-->
    <div id="page-wrapper" class="gray-bg">
        
<div class="row border-bottom">
    <nav class="navbar navbar-static-top white-bg" role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
            <!--<form role="search" class="navbar-form-custom" method="get" action="">-->
                <!--<div class="form-group">-->
                    <!--<input type="text" placeholder="搜索..." class="form-control" name="search" id="top-search">-->
                <!--</div>-->
            <!--</form>-->
        </div>
        <ul class="nav navbar-top-links navbar-right">



            <li class="dropdown">
                <a class="count-info" href="https://market.aliyun.com/products/53690006/cmgj026011.html?spm=5176.730005.0.0.cY2io1" target="_blank">
                    <span class="m-r-sm text-muted welcome-message">商业支持</span>
                </a>
            </li>
            <li class="dropdown">
                <a class="count-info"  href="http://docs.jumpserver.org/" target="_blank">
                     <span class="m-r-sm text-muted welcome-message">文档</span>
                </a>
            </li>
            <li class="dropdown">
                
                <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                    <span class="m-r-sm text-muted welcome-message">
                        <img alt="image" class="img-circle" width="30" height="30" src="/static/img/avatar/admin.png"/>
                        <span style="font-size: 13px;font-weight: 400"> Administrator
                            <b class="caret"></b>
                        </span>
                    </span>
                </a>
                <ul class="dropdown-menu animated fadeInRight m-t-xs profile-dropdown">
                    <li><a href="/users/profile/"><i class="fa fa-cogs"> </i><span> 个人信息</span></a></li>
                    
                        
                            <li><a id="switch_user"><i class="fa fa-exchange"></i><span> 用户页面</span></a></li>
                        
                    
                    <li><a href="/users/logout"><i class="fa fa-sign-out"></i> 注销登录</a></li>
                </ul>
                
            </li>
        </ul>
    </nav>
</div>

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-10">
        <h2></h2>
        <ol class="breadcrumb">
            <li>
                <a href="">仪表盘</a>
            </li>
            
            
        </ol>
    </div>
    <div class="col-sm-2">
    </div>
</div>

         
        

    


    




<script>
    function closePublicKeyMsg() {
        setCookie('close_public_key_msg', 1)
    }
</script>
        
<div class="wrapper wrapper-content">
    <div class="row">
        <div class="col-sm-3">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <span class="label label-success pull-right">Users</span>
                    <h5>用户总数</h5>
                </div>
                <div class="ibox-content">
                    <h1 class="no-margins"><a href="/users/user">1</a></h1>
                    <small>All users</small>
                </div>
            </div>
        </div>
        <div class="col-sm-3">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <span class="label label-info pull-right">Hosts</span>
                    <h5>主机总数</h5>
                </div>
                <div class="ibox-content">
                    <h1 class="no-margins"><a href="/assets/asset/">1</a></h1>
                    <small>All hosts</small>
                </div>
            </div>
        </div>

        <div class="col-sm-3">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <span class="label label-primary pull-right">Online</span>
                    <h5>在线用户</h5>
                </div>
                <div class="ibox-content">
                    <h1 class="no-margins"><a href="/terminal/session-online/"> <span id="online_users"></span>0</a></h1>
                    <small>Online users</small>
                </div>
            </div>
        </div>

        <div class="col-sm-3">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <span class="label label-danger pull-right">Connected</span>
                    <h5>在线会话</h5>
                </div>
                <div class="ibox-content">
                        <h1 class="no-margins"><a href="/terminal/session-online/"> <span id="online_hosts"></span>0</a></h1>
                    <small>Online sessions</small>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-2 border-bottom white-bg dashboard-header" style="margin-left:15px;height: 346px">
            <h2>活跃用户TOP5</h2>
            <small>过去一周共有<span class="text-info">0</span>位用户登录<span class="text-success">0</span>次资产.</small>
            <ul class="list-group clear-list m-t">
                
            </ul>
        </div>
        <div class="col-sm-7" id="top10" style="margin-left: -15px;height: 346px;padding: 15px 0 15px 0;"></div>
        <div class="col-sm-3 white-bg" id="top1" style="margin-left: -15px;height: 346px">
            <div class="statistic-box">
                <h4>
                    活跃用户资产占比
                </h4>
                <p>
                    以下图形分别描述一个月活跃用户和资产占所有用户主机的百分比
                </p>
                <div class="row text-center">
                    <div class="col-sm-6">
                        <div id="activeUser"  style="width: 140px; height: 140px;">

                        </div>
                        <h5>用户</h5>
                    </div>
                    <div class="col-sm-6">
                        <div id="activeAsset" style="width: 140px; height: 140px;"></div>
                        <h5>主机</h5>
                    </div>
                </div>
                <div class="m-t">
                    <small></small>
                </div>
            </div>
        </div>
    </div>
    <br/>

    <div class="row">
        <div class="col-sm-4">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>一周Top10资产</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <i class="fa fa-wrench"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-user"></ul>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content ibox-heading">
                    <h3><i class="fa fa-inbox"></i> 一周Top10资产 </h3>
                    <small><i class="fa fa-map-marker"></i> 登录次数及最近一次登录记录. </small>
                </div>
                <div class="ibox-content inspinia-timeline">
                    
                        <p class="text-center">(暂无)</p>
                    
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>最近十次登录</h5>
                    <div class="ibox-tools">
                        <span class="label label-info-light">10 Messages</span>
                       </div>
                </div>
                <div class="ibox-content ibox-heading">
                    <h3><i class="fa fa-paper-plane-o"></i> 登录记录 </h3>
                    <small><i class="fa fa-map-marker"></i> 最近十次登录记录. </small>
                </div>
                <div class="ibox-content">
                    <div>
                        <div class="feed-activity-list">
                            
                                <p class="text-center">(暂无)</p>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-4">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>一周Top10用户</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <i class="fa fa-wrench"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-user"></ul>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content ibox-heading">
                    <h3><i class="fa fa-user"></i> 一周Top10用户 </h3>
                    <small><i class="fa fa-map-marker"></i> 用户登录次数及最近一次登录记录. </small>
                </div>
                <div class="ibox-content inspinia-timeline">
                    
                        <p class="text-center">(暂无)</p>
                    
                </div>
            </div>
        </div>
    </div>
</div>


        <div class="footer fixed">
    <div class="pull-right">
        Version <strong>1.0.0-76
</strong> GPLv2.
        <img style="display: none" src="http://www.jumpserver.org/img/evaluate_avatar1.jpg">
    </div>
    <div>
        <strong>Copyright</strong> 北京堆栈科技有限公司 &copy; 2014-2018
    </div>
</div>
    </div><!--page-wrapper-->
</div><!--wrapper-->

</body>


<!-- Mainly scripts -->
<script src="/static/js/plugins/metisMenu/jquery.metisMenu.js"></script>

<!-- Custom and plugin javascript -->
<script src="/static/js/plugins/toastr/toastr.min.js"></script>
<script src="/static/js/inspinia.js"></script>
<script src="/static/js/jumpserver.js"></script>
<script>
activeNav();
$(document).ready(function(){
    setAjaxCSRFToken();
    $('textarea').attr('rows', 5);
    if ($('.tooltip')[0]) {
        $('.tooltip').tooltip();
    }
});
</script>


<script src="/static/js/plugins/echarts/echarts.js"></script>
<script>
$(document).ready(function(){
    $('#show').click(function(){
        $('#show').css('display', 'none');
        $('#more').css('display', 'block');
    });
    $("[data-toggle='tooltip']").tooltip();
});
    require.config({
        paths: {
            'echarts': '/static/js/plugins/echarts/chart/',
            'echarts/chart/line': '/static/js/plugins/echarts/chart/line',
            'echarts/chart/pie': '/static/js/plugins/echarts/chart/pie'
        }
    });
    require(
        [
            'echarts',
            'echarts/chart/line'
        ],
        function (ec) {
            var top10Chart = ec.init(document.getElementById('top10'));
            var option = {
                title : {
                    text: '月数据总览',
                    subtext: '一个月内历史汇总',
                    x: 'center'
                },
                tooltip : {
                    trigger: 'axis'
                },
                backgroundColor: '#fff',
                legend: {
                    data:['登陆次数', '活跃用户','活跃资产'],
                    y: 'bottom'
                },
                toolbox: {
                    show : false,
                    feature : {
                        magicType : {show: true, type: ['line', 'bar']}
                    }
                },
                calculable : true,
                xAxis : [
                    {
                        type : 'category',
                        boundaryGap : false,
                        data : ['0']
                    }
                ],
                yAxis : [
                    {
                        type : 'value'
                    }
                ],
                series : [
                    {
                        name:'登陆次数',
                        type:'line',
                        smooth:true,
                        itemStyle: {normal: {areaStyle: {type: 'default'}}},
                        data: []
                    },
                    {
                        name:'活跃用户',
                        type:'line',
                        smooth:true,
                        itemStyle: {normal: {areaStyle: {type: 'default'}}},
                        data: [0]
                    },
                    {
                        name:'活跃资产',
                        type:'line',
                        smooth:true,
                        itemStyle: {normal: {areaStyle: {type: 'default'}}},
                        data: [0]
                    }
                ]
            };
            top10Chart.setOption(option);
        }
    );
    require(
        [
            'echarts',
            'echarts/chart/pie'
        ],
        function (ec) {
            var auChart = ec.init(document.getElementById('activeUser'));
            var option = {
                tooltip : {
                    trigger: 'item',
                    formatter: "{b} <br> {c} ({d}%)"
                },
                legend: {
                    show: false,
                    orient : 'vertical',
                    x : 'left',
                    data:['月活跃用户','禁用用户','月未登陆用户']
                },
                toolbox: {
                    show : false,
                    feature : {
                        mark : {show: true},
                        dataView : {show: true, readOnly: false},
                        magicType : {
                            show: true,
                            type: ['pie', 'funnel'],
                            option: {
                                funnel: {
                                    x: '25%',
                                    width: '50%',
                                    funnelAlign: 'center',
                                    max: 1548
                                }
                            }
                        },
                        restore : {show: true},
                        saveAsImage : {show: true}
                    }
                },
                calculable : true,
                series : [
                    {
                        name:'访问来源',
                        type:'pie',
                        radius : ['50%', '70%'],
                        itemStyle : {
                            normal : {
                                label : {
                                    show : false
                                },
                                labelLine : {
                                    show : false
                                }
                            },
                            emphasis : {
                                label : {
                                    show : true,
                                    position : 'center',
                                    textStyle : {
                                        fontSize : '5',
                                        fontWeight : 'bold'
                                    }
                                }
                            }
                        },
                        data:[
                            {value:0, name:'月活跃用户'},
                            {value:0, name:'禁用用户'},
                            {value:1, name:'月未登陆用户'}
                        ]
                    }
                ]
            };
            auChart.setOption(option);
        }
    );
    require(
        [
            'echarts',
            'echarts/chart/pie'
        ],
        function (ec) {
            var aaChart = ec.init(document.getElementById('activeAsset'));
            var option = {
                tooltip : {
                    trigger: 'item',
                    formatter: "{b} <br> {c} ({d}%)"
                },
                legend: {
                    show: false,
                    orient : 'vertical',
                    x : 'left',
                    data:['月被登陆主机','禁用主机','月未登陆主机']
                },
                toolbox: {
                    show : false,
                    feature : {
                        mark : {show: true},
                        dataView : {show: true, readOnly: false},
                        magicType : {
                            show: true,
                            type: ['pie', 'funnel'],
                            option: {
                                funnel: {
                                    x: '25%',
                                    width: '50%',
                                    funnelAlign: 'center',
                                    max: 1548
                                }
                            }
                        },
                        restore : {show: true},
                        saveAsImage : {show: true}
                    }
                },
                calculable : true,
                series : [
                    {
                        name:'访问来源',
                        type:'pie',
                        radius : ['50%', '70%'],
                        itemStyle : {
                            normal : {
                                label : {
                                    show : false
                                },
                                labelLine : {
                                    show : false
                                }
                            },
                            emphasis : {
                                label : {
                                    show : true,
                                    position : 'center',
                                    textStyle : {
                                        fontSize : '5',
                                        fontWeight : 'bold'
                                    }
                                }
                            }
                        },
                        data:[
                            {value:0, name:'月被登陆主机'},
                            {value:0, name:'禁用主机'},
                            {value:1, name:'月未登陆主机'}
                        ]
                    }
                ]
            };
            aaChart.setOption(option);
        }
    );
</script>


</html>

